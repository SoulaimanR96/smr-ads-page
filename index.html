<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8" />
    <title>إعلانات</title>
    <!-- Yandex.RTB Loader (only one needed) -->
    <script>window.yaContextCb=window.yaContextCb||[]</script>
    <script src="https://yandex.ru/ads/system/context.js" async></script>
    <style>
        .ad-container {
            margin: 20px 0;
            padding: 10px;
            border: 1px dashed #ccc;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .ad-label {
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- Ad 1 -->
    <div class="ad-label">إعلان 1</div>
    <div class="ad-container">
        <div id="yandex_rtb_R-A-16127951-1"></div>
        <script>
            window.yaContextCb.push(() => {
                Ya.Context.AdvManager.render({
                    renderTo: 'yandex_rtb_R-A-16127951-1',
                    blockId: 'R-A-16127951-1'
                });
            });
        </script>
    </div>

    <!-- Ad 2 -->
    <div class="ad-label">إعلان 2</div>
    <div class="ad-container">
        <div id="yandex_rtb_R-A-16127951-2"></div>
        <script>
            window.yaContextCb.push(() => {
                Ya.Context.AdvManager.render({
                    renderTo: 'yandex_rtb_R-A-16127951-2',
                    blockId: 'R-A-16127951-2'
                });
            });
        </script>
    </div>

    <!-- Ad 3 -->
    <div class="ad-label">إعلان 3</div>
    <div class="ad-container">
        <div id="yandex_rtb_R-A-16127951-3"></div>
        <script>
            window.yaContextCb.push(() => {
                Ya.Context.AdvManager.render({
                    renderTo: 'yandex_rtb_R-A-16127951-3',
                    blockId: 'R-A-16127951-3'
                });
            });
        </script>
    </div>

    <!-- Ad 4 (Fullscreen - will show automatically) -->
    <script>
        window.yaContextCb.push(() => {
            Ya.Context.AdvManager.render({
                blockId: 'R-A-16127951-4',
                type: 'fullscreen',
                platform: 'touch'
            });
        });
    </script>

    <!-- Ad 5 (Floor Ad - will show automatically) -->
    <script>
        window.yaContextCb.push(() => {
            Ya.Context.AdvManager.render({
                blockId: 'R-A-16127951-5',
                type: 'floorAd',
                platform: 'touch'
            });
        });
    </script>

    <!-- Ad 6 (Top Ad - will show automatically) -->
    <script>
        window.yaContextCb.push(() => {
            Ya.Context.AdvManager.render({
                blockId: 'R-A-16127951-6',
                type: 'topAd'
            });
        });
    </script>

    <!-- Ad 7 (Feed) -->
    <div class="ad-label">إعلان 7</div>
    <div class="ad-container">
        <div id="yandex_rtb_R-A-16127951-7"></div>
        <script>
            window.yaContextCb.push(() => {
                Ya.Context.AdvManager.render({
                    renderTo: 'yandex_rtb_R-A-16127951-7',
                    blockId: 'R-A-16127951-7',
                    type: 'feed'
                });
            });
        </script>
    </div>

    <!-- Original Ads -->
    <div class="ad-label">إعلان 8</div>
    <div class="ad-container">
        <script type="text/javascript">
            atOptions = {
                'key': '7565faf0120f4769facd4ef67999c731',
                'format': 'iframe',
                'height': 250,
                'width': 300,
                'params': {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/7565faf0120f4769facd4ef67999c731/invoke.js"></script>
    </div>

    <div class="ad-label">إعلان 9</div>
    <div class="ad-container">
        <script type="text/javascript">
            atOptions = {
                'key': 'c70d9ace3e146575408c289503bb762f',
                'format': 'iframe',
                'height': 300,
                'width': 160,
                'params': {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/c70d9ace3e146575408289503bb762f/invoke.js"></script>
    </div>

    <!-- Ad 8 (In-Image) -->
    <script>
        window.addEventListener("load", () => {
            const render = (imageId) => {
                window.yaContextCb.push(() => {
                    Ya.Context.AdvManager.render({
                        renderTo: imageId,
                        blockId: 'R-A-16127951-8',
                        type: 'inImage'
                    });
                });
            };
            
            const renderInImage = (images) => {
                if (!images.length) return;
                const image = images.shift();
                image.id = `yandex_rtb_R-A-16127951-8-${Math.random().toString(16).slice(2)}`;
                
                if (image.tagName === "IMG" && !image.complete) {
                    image.addEventListener("load", () => render(image.id), { once: true });
                } else {
                    render(image.id);
                }
                renderInImage(images);
            };
            
            renderInImage(Array.from(document.querySelectorAll("img")));
        }, { once: true });
    </script>
</body>
</html>
